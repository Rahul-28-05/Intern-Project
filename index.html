<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Real-time Chat</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <!-- Landing Panel -->
    <div id="landing-panel" class="landing-panel">
      <div class="landing-content">
        <h1>Real Time Chat Room</h1>
        <form id="join-form" class="join-form">
          <div class="form-group">
            <label for="room-name">Room Name:</label>
            <input
              type="text"
              id="room-name"
              name="room-name"
              placeholder="Enter room name"
              required
            />
          </div>
          <div class="form-group">
            <label for="username">Username:</label>
            <input
              type="text"
              id="username"
              name="username"
              placeholder="Enter your username"
              required
            />
          </div>
          <button type="submit" id="join-btn">Join Room</button>
        </form>
      </div>
    </div>

    <!-- Chat Container -->
    <div id="chat-container" class="chat-container" style="display: none">
      <!-- Header -->
      <header id="chat-header" class="chat-header">
        <div class="header-content">
          <h2 id="current-room" class="current-room">Room:</h2>
          <div class="header-actions">
            <!-- ğŸŒ™ Theme Toggle -->
            <button id="theme-toggle" class="theme-toggle">ğŸŒ™</button>
            <!-- Call buttons -->
            <button id="audio-call-btn" class="call-btn audio">ğŸ“</button>
            <button id="video-call-btn" class="call-btn video">ğŸ¥</button>
            <div id="connection-status" class="connection-status">
              <span class="status-indicator offline"></span>
              <span id="status-text">Disconnected</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Rooms Sidebar -->
        <aside id="rooms-sidebar" class="rooms-sidebar">
          <h3>Rooms</h3>
          <ul id="rooms-list" class="rooms-list"></ul>
          <form id="new-room-form" class="new-room-form">
            <input
              type="text"
              id="new-room-input"
              placeholder="New room name"
              required
            />
            <button type="submit">â•</button>
          </form>
        </aside>

        <!-- Users Sidebar -->
        <aside id="users-sidebar" class="users-sidebar">
          <h3>Online Users</h3>
          <ul id="users-list" class="users-list"></ul>
        </aside>

        <!-- Messages -->
        <main id="messages-container" class="messages-container">
          <div id="messages-pane" class="messages-pane"></div>
          <!-- Typing Indicator -->
          <div
            id="typing-indicator"
            class="typing-indicator"
            style="display: none"
          >
            Someone is typing...
          </div>
        </main>
      </div>

      <!-- Footer -->
      <footer id="message-footer" class="message-footer">
        <form id="message-form" class="message-form">
          <div class="input-container">
            <!-- File Upload -->
            <label for="file-input" class="file-label">ğŸ“</label>
            <input type="file" id="file-input" class="file-input" hidden />
            <textarea
              id="message-input"
              class="message-input"
              placeholder="Type your message..."
              rows="1"
              maxlength="500"
              required
            ></textarea>
            <button type="submit" id="send-btn" class="send-btn">Send</button>
          </div>
        </form>
      </footer>
    </div>

    <!-- Incoming Call Modal -->
    <div id="incoming-call-modal" class="call-modal hidden">
      <div class="call-modal-content">
        <h3 id="call-info">Incoming Call...</h3>
        <div class="call-actions">
          <button id="accept-call-btn" class="call-action accept">
            âœ… Accept
          </button>
          <button id="reject-call-btn" class="call-action reject">
            âŒ Reject
          </button>
        </div>
      </div>
    </div>

    <!-- Ongoing Call Overlay -->
    <div id="call-overlay" class="call-overlay hidden">
      <video
        id="remote-video"
        class="remote-video"
        autoplay
        playsinline
      ></video>
      <video
        id="local-video"
        class="local-video"
        autoplay
        muted
        playsinline
      ></video>
      <div class="call-controls">
        <button id="mute-btn" class="control-btn">ğŸ”‡</button>
        <button id="end-call-btn" class="control-btn end">ğŸ›‘ End</button>
      </div>
    </div>

    <!-- Scripts -->
    <script src="/static/app.js"></script>
  </body>
</html>
